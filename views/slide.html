<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>图片轮播</title><link rel="stylesheet" type="text/css" href="/css/libs/normalize.min.css"><style type="text/css">*{box-sizing:border-box}#slide-container{position:relative;width:520px;height:280px;margin:80px auto 0;overflow:hidden}#slide-list{z-index:-1;position:absolute;height:280px;margin:0;padding:0;list-style-type:none}#slide-list li{float:left}#slide-prev{display:none;position:absolute;top:50%;left:0;width:35px;height:30px;border:0;background-color:rgba(200,200,200,.9)}#slide-prev:hover{background-color:rgba(100,100,100,.9)}#slide-next{display:none;position:absolute;top:50%;right:0;width:35px;height:30px;border:0;background-color:rgba(200,200,200,.9)}#slide-next:hover{background-color:rgba(100,100,100,.9)}#slide-index{position:absolute;bottom:10px;left:center;width:100%;margin:0;padding:0;text-align:center}#slide-index li{display:inline-block;width:20px;height:20px;line-height:20px;border-radius:50%;background-color:rgba(200,200,200,.9);cursor:pointer}#slide-index #slide-active{background-color:rgba(100,100,100,.9)}</style></head><body><div id="slide-container"><button id="slide-prev">←</button> <button id="slide-next">→</button><ul id="slide-list" style="left:-520px"><li><img src="/img/slide5.jpg" alt="5"></li><li><img src="/img/slide1.jpg" alt="1"></li><li><img src="/img/slide2.jpg" alt="2"></li><li><img src="/img/slide3.jpg" alt="3"></li><li><img src="/img/slide4.jpg" alt="4"></li><li><img src="/img/slide5.jpg" alt="5"></li><li><img src="/img/slide1.jpg" alt="1"></li></ul><ul id="slide-index"><li id="slide-active"></li><li></li><li></li><li></li><li></li></ul></div><script src="/js/libs/jquery.min.js"></script><script type="text/javascript">!function(e){function i(i,t){this.$tar=i,this.$slideList=e(t.listSeletor),this.slideLength=this.$slideList.children("li").length-2,this.activeId=t.activeId,this.indexSeletor=t.indexSeletor,this.$indexList=e(this.indexSeletor+" li"),this.prevSeletor=t.prevSeletor,this.nextSeletor=t.nextSeletor,this.stopTime=t.stopTime,this.slideTime=t.slideTime,this.slideWidth=t.slideWidth,this.slided=!1,this.slideIndex=0,this.slideInterval,this.init()}i.prototype={init:function(){this.$slideList.width((this.slideLength+2)*this.slideWidth);for(var e=0;e<this.slideLength;e++)this.$indexList.eq(e).data("index",e);this.$tar.mouseover(this._handleMouseover.bind(this)).mouseout(this._handleMouseout.bind(this)).click(this._handleClick.bind(this)),this.slideInterval=setInterval(this.slideNext.bind(this),this.stopTime)},slideNext:function(i){var t=i*-this.slideWidth||-this.slideWidth;if(this.slided===!1){this.slided=!0,e("#"+this.activeId).removeAttr("id"),this.$indexList.eq((this.slideIndex=this.slideIndex+(i||1))%this.slideLength).attr("id",this.activeId);var s=this;this.$slideList.animate({left:"+="+t},this.slideTime,function(){parseInt(s.$slideList.css("left"))<-s.slideWidth*s.slideLength&&s.$slideList.css("left",-s.slideWidth),parseInt(s.$slideList.css("left"))>-s.slideWidth&&s.$slideList.css("left",-s.slideWidth*s.slideLength),s.slided=!1}),s.$tar.trigger("slideNext",s.slideIndex%s.slideLength)}},_handleMouseover:function(){clearInterval(this.slideInterval),e(this.prevSeletor).css({display:"block"}),e(this.nextSeletor).css({display:"block"})},_handleMouseout:function(){this.slideInterval=setInterval(this.slideNext.bind(this),this.stopTime),e(this.prevSeletor).css({display:"none"}),e(this.nextSeletor).css({display:"none"})},_handleClick:function(i){var t=i||event,s=e(t.target||t.srcElement);if(s.is(this.prevSeletor)&&this.slideNext(-1),s.is(this.nextSeletor)&&this.slideNext(),s.is(this.indexSeletor+" li")&&!s.is("#"+this.activeId)){var l=s.data("index")-e("#"+this.activeId).data("index");this.slideNext(l)}},destroy:function(){this.$tar.off("mouseover").off("mouseout").off("click"),clearInterval(this.slideInterval)}},e.fn.slide=function(t){if("object"===e.type(t)||"undefined"===e.type(t)){var s={listSeletor:"#slide-list",indexSeletor:"#slide-index",prevSeletor:"#slide-prev",nextSeletor:"#slide-next",activeId:"slide-active",stopTime:2e3,slideTime:1e3},l=new i(this,e.extend({},s,t));this.data("slide",l)}else{var d,l=this.data("slide");if(l[t]&&e.isFunction(l[t])&&(d=l[t].call(l,Array.prototype.slice.call(arguments,1))),d)return d}return this}}(jQuery),$("#slide-container").slide({slideWidth:520}).on("slideNext",function(e,i){console.log("slideNext: "+i)});</script></body></html>
