<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>图片画廊</title><link rel="stylesheet" type="text/css" href="/css/libs/normalize.min.css"><style type="text/css">#img-wrap{margin:200px auto 0;text-align:center}#img-wrap img{width:150px;height:150px}#lightbox{display:none;position:fixed;top:0;left:0;z-index:999;width:100%;height:100%}#prev{display:block;position:absolute;top:50%;left:30%;width:40px;height:30px;border:0;background-color:rgba(200,200,200,.9)}#prev:hover{background-color:rgba(100,100,100,.9)}#next{display:block;position:absolute;top:50%;right:30%;width:40px;height:30px;border:0;background-color:rgba(200,200,200,.9)}#next:hover{background-color:rgba(100,100,100,.9)}#lightbox img{position:absolute;top:50%;left:50%;margin-top:-300px;margin-left:-300px;width:600px;border:5px solid #fff}</style></head><body><div id="img-wrap"><img src="/img/lightbox1.jpg"> <img src="/img/lightbox2.jpg"> <img src="/img/lightbox3.jpg"></div><div id="lightbox"><img src=""> <button id="prev">←</button> <button id="next">→</button></div><script src="/js/libs/jquery.min.js"></script><script type="text/javascript">!function(t){function i(t,i){this.$tar=t,this.$bigImg=t.children("img"),this.wrapSel=i.wrapSel,this.prevSel=i.prevSel,this.nextSel=i.nextSel,this.$smallImg,this.aniTime=i.aniTime,this.init()}i.prototype={init:function(){t(this.wrapSel).click(this._smallImgClick.bind(this)),this.$tar.click(this._lightboxClick.bind(this))},_smallImgClick:function(i){this.$smallImg=t(i.target||event.srcElement),this.$smallImg.is("img")&&(this.$bigImg.attr("src",this.$smallImg.attr("src")),this.$tar.fadeIn(this.aniTime).trigger("fadeIn",this.$smallImg))},_lightboxClick:function(i){var s=t(i.target||event.srcElement);s.is(this.prevSel)?this.$smallImg.is(this.wrapSel+" img:first-child")||(this.$smallImg=this.$smallImg.prev(this.wrapSel+" img"),this.$bigImg.attr("src",this.$smallImg.attr("src"))):s.is(this.nextSel)?this.$smallImg.is(this.wrapSel+" img:last-child")||(this.$smallImg=this.$smallImg.next(this.wrapSel+" img"),this.$bigImg.attr("src",this.$smallImg.attr("src"))):this.$tar.fadeOut(this.aniTime).trigger("fadeOut",this.$smallImg)},destroy:function(){t(this.wrapSel).off("click"),this.$tar.off("click")}},t.fn.lightbox=function(s){if("object"===t.type(s)||"undefined"===t.type(s)){var l={aniTime:"fast",wrapSel:"#img-wrap",prevSel:"#prev",nextSel:"#next"},e=new i(this,t.extend({},l,s));this.data("lightbox",e)}else{var a,e=this.data("lightbox");if(e[s]&&t.isFunction(e[s])&&(a=e[s].call(e,Array.prototype.slice.call(arguments,1))),a)return a}return this}}(jQuery),$("#lightbox").lightbox({aniTime:300}).on("fadeIn",function(){console.log("fadeIn")}).on("fadeOut",function(){console.log("fadeOut")});</script></body></html>
