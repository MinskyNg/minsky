<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>放大镜</title><link rel="stylesheet" type="text/css" href="/css/libs/normalize.min.css"><style type="text/css">*{box-sizing:border-box}#magnifier{position:relative;width:320px;height:200px;margin:20px auto 0}#magnifier img{display:block;width:320px;height:200px}#drag{display:none;position:absolute;left:0;top:0;width:100px;height:100px;background:rgba(255,255,255,.8);cursor:move}#img-wrap{display:none;width:400px;height:400px;margin:20px auto 0;overflow:hidden}#img-wrap img{width:1280px;height:800px}</style></head><body><div id="magnifier"><img id="small-img" src="/img/magnifier.jpg"><div id="drag"></div></div><div id="img-wrap" class="all"><img id="big-img" src="/img/magnifier.jpg"></div><script type="text/javascript">!function(i,t){function e(i){this.magnifier=t.getElementById(i.magnifierId),this.smallImg=t.getElementById(i.smallId),this.drag=t.getElementById(i.dragId),this.imgWrap=t.getElementById(i.wrapId),this.bigImg=t.getElementById(i.bigId),this.init()}e.prototype={init:function(){this.magnifier.onmousemove=this._handleMousemove.bind(this),this.magnifier.onmouseout=this._handleMouseout.bind(this)},_handleMousemove:function(i){var t=i||event;this.drag.style.display="block",this.imgWrap.style.display="block";var e=t.clientX-this.magnifier.offsetLeft-this.drag.offsetWidth/2,s=t.clientY-this.magnifier.offsetTop-this.drag.offsetHeight/2,n=this.magnifier.clientWidth-this.drag.offsetWidth,o=this.magnifier.clientHeight-this.drag.offsetHeight;e>n&&(e=n),s>o&&(s=o),0>e&&(e=0),0>s&&(s=0),this.drag.style.left=e+"px",this.drag.style.top=s+"px";var a=this.bigImg.offsetWidth/this.smallImg.offsetWidth;this.imgWrap.scrollLeft=this.drag.offsetLeft*a,this.imgWrap.scrollTop=this.drag.offsetTop*a},_handleMouseout:function(){this.drag.style.display="none",this.imgWrap.style.display="none"},destroy:function(){this.magnifier.onmousemove=null,this.magnifier.onmouseout=null}},i.Magnifier=e}(window,document),options={magnifierId:"magnifier",smallId:"small-img",dragId:"drag",wrapId:"img-wrap",bigId:"big-img"};var magnifier=new Magnifier(options);</script></body></html>
