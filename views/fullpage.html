<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>全屏滚动</title><link rel="stylesheet" type="text/css" href="/css/libs/normalize.min.css"><style type="text/css">.page1{background-color:#C0FF3E}.page2{background-color:#AEEEEE}.page3{background-color:#EE0}.page4{background-color:tomato}.page5{background-color:#D15FEE}</style></head><body><div id="wrap"><div id="main"><div class="content page1"></div><div class="content page2"></div><div class="content page3"></div><div class="content page4"></div><div class="content page5"></div></div></div><script src="/js/libs/jquery.min.js"></script><script type="text/javascript">!function(e){function t(t,i){this.$tar=t,this.$main=e(i.mainSelector),this.$content=e(i.contentSelector),this.scrollTime=i.scrollTime,this.scrolled=!1,this.index=0,this.pageHeight=window.innerHeight,this.init()}t.prototype={init:function(){this.$tar.css({height:this.pageHeight+"px",overflow:"hidden",width:"100%"}),this.$main.css({position:"relative",top:0}),this.$content.css({width:"100%",height:this.pageHeight+"px",margin:0,padding:0}),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")?document.addEventListener("DOMMouseScroll",this._handleScroll.bind(this),!1):document.addEventListener?document.addEventListener("mousewheel",this._handleScroll.bind(this),!1):document.attachEvent?document.attachEvent("onmousewheel",this._handleScroll.bind(this)):document.onmousewheel=this._handleScroll.bind(this)},_handleScroll:function(e){var t=e||event,i=this;if(this.scrolled===!1){var n=t.detail||-t.wheelDelta;this.scrolled=!0,n>0&&parseInt(this.$main.css("top"))>-this.pageHeight*(this.$content.length-1)?this.$main.animate({top:"-="+this.pageHeight},this.scrollTime,function(){i.scrolled=!1,i.index++,i.$tar.trigger("scrollDown",i.index)}):0>n&&parseInt(this.$main.css("top"))<0?this.$main.animate({top:"+="+this.pageHeight},this.scrollTime,function(){i.scrolled=!1,i.index--,i.$tar.trigger("scrollUp",i.index)}):this.scrolled=!1}},destroy:function(){this.$tar.removeAttr("style"),this.$main.removeAttr("style"),this.$content.removeAttr("style").height(this.pageHeight),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")?document.removeEventListener("DOMMouseScroll",this._handleScroll.bind(this)):document.removeEventListener?document.removeEventListener("mousewheel",this._handleScroll.bind(this)):document.detachEvent?document.detachEvent("onmousewheel",this._handleScroll.bind(this)):document.onmousewheel=null}},e.fn.fullpage=function(i){if("object"===e.type(i)||"undefined"===e.type(i)){var n={mainSelector:"#main",contentSelector:".content",scrollTime:700},o=new t(this,e.extend({},n,i));this.data("fullpage",o)}else{var s,o=this.data("fullpage");if(o[i]&&e.isFunction(o[i])&&(s=o[i].call(o,Array.prototype.slice.call(arguments,1))),s)return s}return this}}(jQuery),$("#wrap").fullpage({scrollTime:800}).on("scrollDown",function(e,t){console.log("scrollDown: "+t)}).on("scrollUp",function(e,t){console.log("scrollUp: "+t)});</script></body></html>
