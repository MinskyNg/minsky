<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>悬浮菜单栏</title><link rel="stylesheet" type="text/css" href="/css/libs/normalize.min.css"><style type="text/css">*{box-sizing:border-box}#banner{position:absolute;top:0;left:0;width:100%;height:60px;font-size:25px;font-weight:700;line-height:60px;text-align:center;color:#fff;background:#000;z-index:2;transition:top .2s linear}#content{width:100%;height:2000px;background-color:#EEE}#backTop{opacity:0;position:fixed;bottom:20px;right:20px;width:50px;height:50px;line-height:50px;text-align:center;font-weight:700;font-size:16px;background-color:#565A5f;cursor:pointer;transition:opacity .3s linear}</style></head><body><div id="banner">菜单栏</div><div id="content"></div><div id="backTop">Top</div><script type="text/javascript">!function(e,t){function o(e){this.banner=t.getElementById(e.banner),this.speed=e.speed,e.afterMove instanceof Function&&(this.afterMove=e.afterMove),this.init()}function n(e){this.backTop=t.getElementById(e.backTop),this.showHeight=e.showHeight,this.speed=e.speed,this.init()}function i(e,t){var o;return function(){var n=this,i=arguments;clearTimeout(o),o=setTimeout(function(){e.apply(n,i)},t||500)}}var l=t.documentElement,s=t.body;o.prototype={init:function(){this._handleScroll=this._handleScroll.bind(this),t.addEventListener("scroll",this._handleScroll)},_handleScroll:function(){var e=l.scrollTop+s.scrollTop;this.banner.style.top=e+"px"},destroy:function(){t.removeEventListener("scroll",this._handleScroll)}},e.Levitate=o,n.prototype={init:function(){this._handleScroll=i(this._handleScroll.bind(this),50),t.addEventListener("scroll",this._handleScroll),this._handleClick=this._handleClick.bind(this),this.backTop.addEventListener("click",this._handleClick)},_handleScroll:function(){var e=l.scrollTop+s.scrollTop;this.backTop.style.opacity=e>this.showHeight?"1":"0"},_handleClick:function(){function e(){var n=0,i=l.scrollTop+s.scrollTop,c=+new Date,r=c-t;for(t=c,o+=r;o>15&&i>0;)n+=60,o-=15;l.scrollTop-=n,s.scrollTop-=n,l.scrollTop+s.scrollTop>0&&setTimeout(e,15)}var t=+new Date,o=0;setTimeout(e,15)},destroy:function(){t.removeEventListener("scroll",this._handleScroll),t.removeEventListener("scroll",this._handleClick)}},e.BackTop=n}(window,document);var options={banner:"banner",speed:100,afterMove:function(e){console.log("Move"+e)}},levitate=new Levitate(options);options={backTop:"backTop",showHeight:80,speed:100};var backTop=new BackTop(options);</script></body></html>
