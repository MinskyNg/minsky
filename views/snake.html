<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta charset="UTF-8"><title>贪吃蛇</title><link rel="stylesheet" type="text/css" href="/css/libs/normalize.min.css"><style type="text/css">#map{position:absolute;left:50%;top:50%;width:600px;height:600px;margin-top:-300px;margin-left:-300px;background:#999;overflow:hidden}#control{position:absolute;left:200px;top:200px}button{color:#fff;background:#999}</style></head><body><div id="control"><button id="start">开始游戏</button> <span>得分：</span><span id="score"></span></div><div id="map"></div><script type="text/javascript">!function(){function t(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left=20*t+"px",e.style.background="#383838",e.style.width="20px",e.style.height="20px",p.push(e),i.appendChild(e)}function e(){for(var t=p.length-1;t>0;t--)p[t].style.left=p[t-1].style.left,p[t].style.top=p[t-1].style.top;p[0].style.left=parseInt(p[0].style.left)+d+"px",p[0].style.top=parseInt(p[0].style.top)+f+"px",s=setTimeout(e,400)}function n(){clearTimeout(s),e()}function o(t){var e=t||event,o=e.keyCode;switch(o){case 37:if("right"===y)break;d=-20,f=0,y="left",n();break;case 38:if("down"===y)break;d=0,f=-20,y="up",n();break;case 39:if("left"===y)break;d=20,f=0,y="right",n();break;case 40:if("up"===y)break;d=0,f=20,y="down",n()}}function l(){var t=document.getElementById("score");t.innerHTML=p.length-3;var e=parseInt(p[0].style.left),n=parseInt(p[0].style.top);if((0>e||e>580||0>n||n>580)&&(alert("Game Over"),window.location.reload()),p.length>4)for(var o=3;o<p.length-1;o++){var a=parseInt(p[o].style.left),r=parseInt(p[o].style.top);e===a&&n===r&&(alert("Game Over"),window.location.reload())}setTimeout(l,30)}function a(){var t=20*Math.floor(29*Math.random())+"px",e=20*Math.floor(29*Math.random())+"px",n=document.createElement("div");n.style.position="absolute",n.style.top=e,n.style.left=t,n.style.width="20px",n.style.height="20px",n.style.backgroundColor="#fff",n.id="food",i.appendChild(n)}function r(){var t=parseInt(p[0].style.left),e=parseInt(p[0].style.top),n=document.getElementById("food"),o=parseInt(n.style.left),l=parseInt(n.style.top);Math.abs(t-o)<20&&Math.abs(e-l)<20&&(n.style.backgroundColor="#383838",p.push(n),n.id="",a()),setTimeout(r,30)}var s,i=document.getElementById("map"),p=[],d=20,f=0,y="right";document.onkeydown=o,document.getElementById("start").onclick=function(){"重新开始"===this.innerHTML&&(i.innerHTML="",p=[],d=20,f=0,y="right",clearTimeout(s));for(var n=2;n>=0;n--)t(n);e(),l(),a(),r(),this.innerHTML="重新开始"}}();</script></body></html>